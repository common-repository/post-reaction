!function(){"use strict";var e={646:function(e,t,n){var r=n(533);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},533:function(e){e.exports=ReactDOM}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&!e;)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),function(){var e=wp.components,t=React,r=n.n(t),o=wp.i18n;function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=React,i=c.useState,u=c.useEffect,s=function(e){var t=a(i(!0),2),n=t[0],r=t[1],o=a(i(!1),2),l=o[0],c=(o[1],a(i(null),2)),s=c[0],f=(c[1],a(i(null),2)),m=f[0],d=f[1];u((function(){wp.api.loadPromise.then((function(){(new wp.api.models.Settings).fetch().then((function(t){d(p(t[e])),r(!1)}))}))}),[]);var p=function(e){var t=e;try{t=JSON.parse(e)}catch(e){}return t};return{data:m,isLoading:n,isError:l,error:s}};function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var m=["isLoaded"];function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=React,g=v.useState,h=(v.useEffect,function(e,t){var n=t.type,r=void 0===n?"string":n,o=b(g(!1),2),a=o[0],l=o[1],c=b(g(!1),2),i=c[0],u=c[1],s=b(g(null),2),f=s[0],y=s[1],v=b(g(null),2),h=v[0],R=v[1],E=function(e,t){var n=e;if("object"===r){e.isLoaded;n=d(e,m);try{n="saving"===t?JSON.stringify(e):JSON.parse(e)}catch(e){y(null==e?void 0:e.message),u(!0)}}return n};return{data:h,saveData:function(t){u(!1),y(null),l(!0);try{new wp.api.models.Settings(p({},e,E(t,"saving"))).save().then((function(t){R(E(t[e],"response")),l(!1)}))}catch(e){u(!0),y(null==e?void 0:e.message),l(!1)}},isLoading:a,isError:i,error:f}});var R=React;R.useState,R.useEffect;var E=React;E.useState,E.useEffect;function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(n){var r=n.value,o=n.title,a=void 0===o?"":o,l=n.defaultColor,c=n.onChange,i=n.className,u=n.disableAlpha,s=n.boxPosition,f=void 0===s?"top left":s,m=n.globalColors,d=void 0===m?[]:m,p=n.label,b=S((0,t.useState)(r),2),y=b[0],v=b[1];return React.createElement(e.PanelRow,{className:i},React.createElement("label",null,p),React.createElement(e.Dropdown,{position:f,renderToggle:function(t){var n=t.isOpen,o=t.onToggle;return React.createElement("div",{style:{display:"flex"}},l&&l!=y&&React.createElement(e.Button,{icon:"image-rotate",className:"bColorReset",onClick:function(){c(l),v(l)}}),React.createElement("div",{className:"BColorButtonContainer"},React.createElement("button",{className:"BColorButton",title:a,onClick:o,"aria-expanded":n,style:r?{backgroundColor:r}:{backgroundColor:"transparent"}})))},renderContent:function(n){var o=n.isOpen;n.onToggle,n.onClose;return React.createElement(t.Fragment,null,React.createElement(e.ColorPicker,{color:r||"",onChangeComplete:function(e){c("rgba(".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b,", ").concat(e.rgb.a,")")),v(e.hex)},disableAlpha:u||!1}),d.length>0&&React.createElement("div",{style:{display:"flex"},className:"globalColors"},d.map((function(e){return React.createElement("div",{className:"BColorButtonContainer"},React.createElement("button",{className:"BColorButton",onClick:function(){c(e.color),v(e)},"aria-expanded":o,style:{backgroundColor:r?e.color:"transparent"}}))}))))}}))},O=(wp.i18n.__,wp.element.Fragment,wp.blockEditor),j=(O.MediaUpload,O.MediaUploadCheck,wp.components);j.Button,j.PanelRow,j.TextControl;function A(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=function(n){var a=n.enabledReacts,l=void 0===a?[]:a,c=n.handleChange,i=_((0,t.useState)(["like","love","wow","angry"]),1)[0];return r().createElement("div",{className:"CPRPostCheckbox"},r().createElement("label",null,(0,o.__)("Enable Reacts","post-reaction"),": "),r().createElement("div",{className:"cprReacts"},null==i?void 0:i.map((function(t){return r().createElement(e.CheckboxControl,{key:t,label:t,checked:null==l?void 0:l.includes(t),onChange:function(e){return c(e?{enabledReacts:[].concat(A(l),[t])}:{enabledReacts:l.filter((function(e){return e!=t}))})}})}))))};function x(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=function(n){var a=n.customReacts,l=n.handleChange,c=function(e,t,n){var r=x(a);r[e][t]=n,l({customReacts:r})};return(0,t.useEffect)((function(){a.map((function(e,t){var n,r;(null===(n=e.svg)||void 0===n?void 0:n.length)>30&&(null===(r=e.svg)||void 0===r||!r.includes("."))&&c(t,"svg",function(e){try{var t=atob(e);return e===btoa(t)?t:e}catch(t){return e}}(e.svg))}))}),[]),r().createElement("div",null,r().createElement("label",null,(0,o.__)("Custom React","post-reaction")),a.map((function(t,n){return r().createElement(r().Fragment,null,r().createElement(e.PanelBody,{title:t.name||(0,o.__)("Custom React","post-reaction"),initialOpen:!1},r().createElement(e.PanelRow,null,r().createElement("label",null,(0,o.__)("Enabled","post-reaction")),r().createElement(e.FormToggle,{checked:t.enabled,onChange:function(){return c(n,"enabled",!t.enabled)}})),r().createElement(e.TextControl,{label:(0,o.__)("React Name","post-reaction"),value:null==t?void 0:t.name,onChange:function(e){return c(n,"name",e)}}),r().createElement(e.TextControl,{label:(0,o.__)("Unique React ID","post-reaction"),value:null==t?void 0:t.id,onChange:function(e){return c(n,"id",e)}}),r().createElement(e.TextareaControl,{label:(0,o.__)("SVG Icon","post-reaction"),value:null==t?void 0:t.svg,onChange:function(e){return c(n,"svg",e)}}),r().createElement("div",{className:"cprActionButton"}," ",r().createElement(e.Button,{variant:"danger",className:"button button-danger",onClick:function(){var e=x(a);e.splice(n,1),l({customReacts:e})}},(0,o.__)("Delete","post-reaction")))))})),r().createElement("div",{className:"cprActionButton"},r().createElement(e.Button,{variant:"primary",onClick:function(){var e=x(a);e.push({enabled:!0,name:"new react"}),l({customReacts:e})}},(0,o.__)("Add New React","post-reaction"))))},B=function(e){var t=e.height,n=void 0===t?"10px":t,r=e.width,o=void 0===r?"10px":r,a=e.color,l=void 0===a?"#3498db":a;return React.createElement("div",{className:"simple-loader",style:{height:n,width:o,borderTopColor:l}})},U=n.p+"src/assets/design-1.png",D=n.p+"src/assets/design-2.png";function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function M(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===F(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,c=[],i=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{if(!i&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=function(){var n=h("cprSettings",{type:"object"}),r=n.isLoading,a=n.saveData,l=s("cprSettings"),c=l.data,i=void 0===c?{}:c,u=l.isLoading,f=s("cprPostTypes"),m=f.data,d=void 0===m?[]:m,p=f.isLoading,b=J((0,t.useState)(i||{}),2),y=b[0],v=b[1],g=y.enabled,R=y.contentPosition,E=y.postTypes,S=y.enabledReacts,C=y.customReacts,O=void 0===C?[]:C,j=y.beforeContent,A=y.afterContent,_=y.onlyUserCanReact,P=void 0===_||_,N=y.iconSize,x=void 0===N?"20px":N,k=y.activeBackground,F=y.design;(0,t.useEffect)((function(){i&&(console.log(i),v(i))}),[u]);var L=function(e){v($($({},y),e))};return u||p?"Loading...":React.createElement("div",null,React.createElement(React.Fragment,null,React.createElement("div",{className:"fit-content"},React.createElement(e.PanelRow,null,React.createElement("label",null,(0,o.__)("Enabled","post-reaction")),React.createElement(e.FormToggle,{checked:g,onChange:function(){return L({enabled:!g})}}))),g&&React.createElement(React.Fragment,null,React.createElement("div",{className:"fit-content"},React.createElement(e.PanelRow,null,React.createElement("label",null,(0,o.__)("Only User Can React","post-reaction")),React.createElement(e.FormToggle,{checked:P,onChange:function(){return L({onlyUserCanReact:!P})}}))),React.createElement("div",{className:"fit-content"},React.createElement(e.PanelRow,null,React.createElement("label",null,(0,o.__)("React Content Position","post-reaction")),React.createElement(e.SelectControl,{options:[{label:(0,o.__)("Before Content","post-reaction"),value:"before_content"},{label:(0,o.__)("After Content","post-reaction"),value:"after_content"}],value:R,onChange:function(e){return L({contentPosition:e})}}))),React.createElement("div",{className:"fit-content"},React.createElement(e.FormTokenField,{label:"Post Types",value:E,suggestions:d,onChange:function(e){e.every((function(e){return d.includes(e)}))&&L({postTypes:e})}})),React.createElement("div",{className:"fit-content"},React.createElement(T,{customReacts:O,handleChange:L,enabledReacts:S})),React.createElement("div",{className:"fit-content"},React.createElement(e.PanelRow,null,React.createElement("label",null,(0,o.__)("Icon Size","post-reaction")),React.createElement(e.__experimentalUnitControl,{onChange:function(e){return L({iconSize:e})},value:x}))),React.createElement("div",{className:"fit-content"},React.createElement(e.PanelRow,null,React.createElement("label",null,(0,o.__)("Active Icon Background","post-reaction")),React.createElement(w,{onChange:function(e){return L({activeBackground:e})},value:k}))),React.createElement(I,{customReacts:O,handleChange:L}),React.createElement("div",{className:"fit-content"},React.createElement("label",null,(0,o.__)("Design","post-reaction")),React.createElement("div",{className:"designs"},React.createElement("img",{onClick:function(){return L({design:"design-1"})},src:U,className:"design-1"===F?"active":""}),React.createElement("img",{onClick:function(){return L({design:"design-2"})},src:D,className:"design-2"===F?"active":""}))),React.createElement("div",null,React.createElement("label",null,(0,o.__)("Content Before React","post-reaction")),React.createElement(e.TextareaControl,{rows:"2",value:j,onChange:function(e){return L({beforeContent:e})}})),React.createElement("div",null,React.createElement("label",null,(0,o.__)("Content After React","post-reaction")),React.createElement(e.TextareaControl,{rows:"2",value:A,onChange:function(e){return L({afterContent:e})}})))),React.createElement("div",{className:"cprActionButton"},r&&React.createElement(B,null),React.createElement(e.Button,{disabled:r,variant:"primary",onClick:function(){var e,t=M(y.customReacts);null===(e=y.customReacts)||void 0===e||e.map((function(e,n){var r;null!==(r=e.svg)&&void 0!==r&&r.includes("svg")&&(t[n].svg=btoa(e.svg))})),a($($({},y),{},{customReacts:t}))}},(0,o.__)("Save","post-reaction"))))},H=n(646).createRoot;document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("countPostReactSettings");H(e).render(React.createElement(V,null))}))}()}();
//# sourceMappingURL=settings.js.map